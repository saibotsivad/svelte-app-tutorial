<div class="panel panel-default">
	<div class="panel-heading">
		Add new Animal
	</div>
	<div class="panel-body">
		<form on:submit="handleSubmit(event)">
			<div class="form-group">
				<label for="new-animal-name">Name</label>
				<input bind:value="name" type="text" name="new-animal-name" class="form-control">
			</div>
			<div class="form-group">
				<label for="new-animal-emoji">Emoji</label>
				<input bind:value="emoji" type="text" name="new-animal-emoji" class="form-control">
			</div>
			<div class="form-group">
				<label for="new-animal-email">Email</label>
				<input bind:value="email" type="text" name="new-animal-email" class="form-control">
			</div>
			<div class="form-group">
				<label for="new-animal-twitter">Twitter</label>
				<input bind:value="twitter" type="text" name="new-animal-twitter" class="form-control">
			</div>
			<button type="submit" class="btn btn-primary">Create Animal</button>
		</form>
	</div>
</div>

<script>
export default {
	data () {
		return {
			name: '',
			emoji: '',
			email: '',
			twitter: ''
		}
	},
	methods: {
		handleSubmit(event) {
			// prevent the page from reloading
			event.preventDefault()

			const animal = {
				name: this.get('name') || undefined,
				emoji: this.get('emoji') || undefined,
				email: this.get('email') || undefined,
				twitter: this.get('twitter') || undefined
			}
			this.fire('update', animal)
			this.set({
				name: '',
				emoji: '',
				email: '',
				twitter: ''
			})
		}
	}
}
</script>
